<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • bbsBayes2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://bbsbayes.github.io/bbsBayes2/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bbsBayes2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bbsBayes2.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bbsBayes/bbsBayes2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/bbsBayes/bbsBayes2/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.3" id="bbsbayes2-113">bbsBayes2 1.1.3<a class="anchor" aria-label="anchor" href="#bbsbayes2-113"></a></h2>
<ul><li>2025 release. Includes access to the 2025 release of the BBS database (observations from 1966 through to 2024).</li>
</ul><p>Some of the key fixes and improvements:</p>
<ol style="list-style-type: decimal"><li><p>first-difference models (hierarchical and spatial) now better handle the missing data from 2020. The models estimate a single value of change (i.e., the difference between 2021 and 2019) and then use random draws from a beta distribution (beta(1,1)) for each posterior draw to randomly partition the difference between the first interval (2019-2020) and the second (2020-2021). This has the result of forcing the mean trajectory to follow a straight line between 2019 and 2021, while increasing the uncertainty of the estimated index for 2020.</p></li>
<li><p>the <code><a href="../reference/fetch_bbs_data.html">fetch_bbs_data()</a></code> function now allows the user to retain the BBS observations that do not conform to the survey design. The documentation includes warnings about how this is probably a bad idea.</p></li>
<li><p>all models can now generate prior predictions using <code>prepare_model(..., use_likelihood = FALSE)</code>. This should be particularly useful for applications with a custom model.</p></li>
<li><p>the function <code>plot_map(..., col_ebird = TRUE, alternate_column = "percent_change")</code> will plot the estimated percent change values using the same categories and colour scheme used by the eBird status and trend team.</p></li>
<li><p>the function <code>generate_trends(..., export_full_posterior = TRUE)</code> will now add a tibble to the output list that includes the full posterior distribution of every trend estimate. Allows for formal tests/estimates of the differences between two trends (e.g., between two time-periods or two regions).</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.2.1" id="bbsbayes2-1121">bbsBayes2 1.1.2.1<a class="anchor" aria-label="anchor" href="#bbsbayes2-1121"></a></h2>
<ul><li>minor fixes to bugs in 1.1.2</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.2" id="bbsbayes2-112">bbsBayes2 1.1.2<a class="anchor" aria-label="anchor" href="#bbsbayes2-112"></a></h2>
<ul><li>2024 release. Includes access to the 2024 release of the BBS database (observations from 1966 through to 2023).</li>
</ul><ol style="list-style-type: decimal"><li><p>adds options to generate spaghetti plots of population trajectories in <code>plot_indices</code>. Spaghetti plots show a selection of posterior draws of the population trajectories as many distinct lines. These lines provide a different way to summarise the uncertainty of the population trajectories that separates the uncertainty of the trends (shape of the population trajectory) from the uncertainty in the mean abundance (vertical placement on the graphs).</p></li>
<li><p>adds options to estimate trends from any model using a gam-based smooth. The gam_smooths argument in the <code>generate_indices(gam_smooths = TRUE)</code> function creates an array of posterior draws of gam smooths through the population trajectory. These posterior draws can be used in the <code>generate_trends(gam = TRUE)</code> function to estimate trends and their uncertainties based on these smooths, for any custom range of dates. These smooth trends provide an alternative to the end-point trends that are the default in bbsBayes2. If the gam argument is set to TRUE, all of the trend and population change calculations are based on the posterior array of smooths, rather than the posterior array of annual indices. Calculating the smooths in <code>generate_indices</code> requires significantly more time and so the gam_smooths option is set to FALSE by default.</p></li>
<li><p>adds informative error messages to: a) identify challenges with interpreting the observed annual means relative to estimate trajectories for composite regions (all except <code>stratum</code>); b) identify species and time-periods where analyses may be complicated by changes in species taxonomy (see <code><a href="../reference/species_notes.html">bbsBayes2::species_notes</a></code>); and c) identify when the strata_custom optional <code>sf</code> object passed to <code>stratify</code> does not have the correct crs and strata_name column type.</p></li>
<li><p><code>prepare_data</code> now exports columns including latitude and longitude of each BBS route start-location in the <code>raw_data</code> component of the output list.</p></li>
<li><p>fix a number of errors and issues identified in version 1.1.1.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.1" id="bbsbayes2-111">bbsBayes2 1.1.1<a class="anchor" aria-label="anchor" href="#bbsbayes2-111"></a></h2>
<p>1.1.1 represents a patch to correct some failing checks and tests in 1.1.0, and includes all of the functionality of the 1.1.0 release.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="bbsbayes2-110">bbsBayes2 1.1.0<a class="anchor" aria-label="anchor" href="#bbsbayes2-110"></a></h2>
<ul><li>Second release. Includes access to the 2023 release of the BBS database. Also includes improvements to the management of the csv files created by Stan, increased ability to map values from <code><a href="../reference/generate_trends.html">generate_trends()</a></code>, tweaks to the first_diff models to better handle the missing data in 2020 (when no BBS surveys were conducted), and options to use highest posterior density intervals (hpdi) to describe the posterior distribution in <code><a href="../reference/generate_indices.html">generate_indices()</a></code> and <code><a href="../reference/generate_trends.html">generate_trends()</a></code>.</li>
</ul><p>More specifically, to support version 1.1.0, the following changes were made:</p>
<ol style="list-style-type: decimal"><li><p>adds some tweaks to the first_difference, spatial model to force 0 spatial variance in 2020 - the year when the BBS was cancelled and so there are no data and therefore no information with which to meaningfully estimate the variance in annual differences among strata.</p></li>
<li><p>allows the <code><a href="../reference/plot_map.html">plot_map()</a></code> function to plot any of the numerical values in the output from <code><a href="../reference/generate_trends.html">generate_trends()</a></code>. e.g., to display trend uncertainty by plotting the credible limits or width of the credible intervals of the trend estimates, or to display the mean relative abundance among strata during the trend period. Example added to the Advanced Vignette.</p></li>
<li><p>package can access the newest database release to include field observations from 1966 - 2022.</p></li>
<li><p>allows for the use of highest posterior density intervals in the <code><a href="../reference/generate_indices.html">generate_indices()</a></code> and <code><a href="../reference/generate_trends.html">generate_trends()</a></code> functions. HPDI often provide a better description of the posterior distribution, particularly for skewed distributions, such as those from a log-transformed predicted count (i.e., the indices of annual relative abundance). Example added to the Advanced Vignette.</p></li>
<li><p><code><a href="../reference/run_model.html">run_model()</a></code> function by default now cleans up the .csv files created by Stan, once the model has finished and has been saved to .rds file (also done by default). Saves local disk space, as once the model output is saved in the rds file, the csv files are redundant.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="bbsbayes2-100">bbsBayes2 1.0.0<a class="anchor" aria-label="anchor" href="#bbsbayes2-100"></a></h2>
<ul><li>First release of bbsBayes2, the successor to bbsBayes!</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brandon P.M. Edwards, Adam C. Smith, Steffi LaZerte.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

