<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create geofacet plot of population trajectories by province/state — plot_geofacet • bbsBayes2</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create geofacet plot of population trajectories by province/state — plot_geofacet"><meta name="description" content="Generate a faceted plot of population trajectories by province/state. Only
possible if indices created by generate_indices() include the prov_state
region. All geofacet plots have one facet per state/province, so if there are
multiple strata per facet, these can be plotted as separate trajectories
within each facet (multiple = TRUE)."><meta property="og:description" content="Generate a faceted plot of population trajectories by province/state. Only
possible if indices created by generate_indices() include the prov_state
region. All geofacet plots have one facet per state/province, so if there are
multiple strata per facet, these can be plotted as separate trajectories
within each facet (multiple = TRUE)."><meta property="og:image" content="https://bbsbayes.github.io/bbsBayes2/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bbsBayes2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bbsBayes2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bbsBayes/bbsBayes2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create geofacet plot of population trajectories by province/state</h1>
      <small class="dont-index">Source: <a href="https://github.com/bbsBayes/bbsBayes2/blob/v1.1.2.1/R/plot-geofacet.R" class="external-link"><code>R/plot-geofacet.R</code></a></small>
      <div class="d-none name"><code>plot_geofacet.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate a faceted plot of population trajectories by province/state. Only
possible if indices created by <code><a href="generate_indices.html">generate_indices()</a></code> include the <code>prov_state</code>
region. All geofacet plots have one facet per state/province, so if there are
multiple strata per facet, these can be plotted as separate trajectories
within each facet (<code>multiple = TRUE</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_geofacet</span><span class="op">(</span></span>
<span>  <span class="va">indices</span>,</span>
<span>  ci_width <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  multiple <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  trends <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  slope <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_observed_means <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  col_viridis <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-indices">indices<a class="anchor" aria-label="anchor" href="#arg-indices"></a></dt>
<dd><p>List. Indices generated by <code><a href="generate_indices.html">generate_indices()</a></code>.</p></dd>


<dt id="arg-ci-width">ci_width<a class="anchor" aria-label="anchor" href="#arg-ci-width"></a></dt>
<dd><p>Numeric. Quantile defining the width of the plotted credible
interval. Defaults to 0.95 (lower = 0.025 and upper = 0.975). Note these
quantiles need to have been precalculated in <code><a href="generate_indices.html">generate_indices()</a></code>.</p></dd>


<dt id="arg-multiple">multiple<a class="anchor" aria-label="anchor" href="#arg-multiple"></a></dt>
<dd><p>Logical. Whether to plot multiple strata-level trajectories
within each prov/state facet. Default <code>FALSE</code>.</p></dd>


<dt id="arg-trends">trends<a class="anchor" aria-label="anchor" href="#arg-trends"></a></dt>
<dd><p>List. (Optional) Output generated by <code><a href="generate_trends.html">generate_trends()</a></code>. If
included trajectories are coloured based on the same colour scale used in
<code>plot_map</code>.</p></dd>


<dt id="arg-slope">slope<a class="anchor" aria-label="anchor" href="#arg-slope"></a></dt>
<dd><p>Logical. If <code>trends</code> included, whether colours in the plot
should be based on slope trends. Default <code>FALSE</code>.</p></dd>


<dt id="arg-add-observed-means">add_observed_means<a class="anchor" aria-label="anchor" href="#arg-add-observed-means"></a></dt>
<dd><p>Logical. Whether to include points indicating the
observed mean counts. Default <code>FALSE</code>. Note: scale of observed means and
annual indices may not match due to imbalanced sampling among routes. Also,
pattern of change in observed means through time should reflect estimated
population trajectories for strata-level summaries. However, the temporal
patterns may be very different between means and annual indices for composite
regions (e.g., continental, state, province, or BCR) because the indices
for composite regions account for the variation in area weights and
variation in relative abundances among strata, and the observed mean counts
do not. For strata-level assessments, these observed means can be a useful
model assessment tool. For composite regions, their interpretation is more
complicated.</p></dd>


<dt id="arg-col-viridis">col_viridis<a class="anchor" aria-label="anchor" href="#arg-col-viridis"></a></dt>
<dd><p>Logical. Should the colour-blind-friendly "viridis"
palette be used. Default <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>ggplot object</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other indices and trends functions:
<code><a href="generate_indices.html">generate_indices</a>()</code>,
<code><a href="generate_trends.html">generate_trends</a>()</code>,
<code><a href="plot_indices.html">plot_indices</a>()</code>,
<code><a href="plot_map.html">plot_map</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Using the example model for Pacific Wrens...</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate indices</span></span></span>
<span class="r-in"><span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_indices.html">generate_indices</a></span><span class="op">(</span><span class="va">pacific_wren_model</span>,</span></span>
<span class="r-in"><span>                      regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stratum"</span>, <span class="st">"prov_state"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing region stratum</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing region prov_state</span>
<span class="r-in"><span><span class="co"># Generate trends</span></span></span>
<span class="r-in"><span><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_trends.html">generate_trends</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now make the geofacet plot.</span></span></span>
<span class="r-in"><span><span class="fu">plot_geofacet</span><span class="op">(</span><span class="va">i</span>, trends <span class="op">=</span> <span class="va">t</span>, multiple <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_geofacet-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">plot_geofacet</span><span class="op">(</span><span class="va">i</span>, trends <span class="op">=</span> <span class="va">t</span>, multiple <span class="op">=</span> <span class="cn">TRUE</span>, col_viridis <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_geofacet-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">plot_geofacet</span><span class="op">(</span><span class="va">i</span>, multiple <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_geofacet-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">plot_geofacet</span><span class="op">(</span><span class="va">i</span>, trends <span class="op">=</span> <span class="va">t</span>, multiple <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_geofacet-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">plot_geofacet</span><span class="op">(</span><span class="va">i</span>, multiple <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_geofacet-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With different ci_width, specify desired quantiles in indices</span></span></span>
<span class="r-in"><span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_indices.html">generate_indices</a></span><span class="op">(</span><span class="va">pacific_wren_model</span>,</span></span>
<span class="r-in"><span>                      regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stratum"</span>, <span class="st">"prov_state"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.005</span>, <span class="fl">0.995</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing region stratum</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing region prov_state</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plot_geofacet</span><span class="op">(</span><span class="va">i</span>, multiple <span class="op">=</span> <span class="cn">FALSE</span>, ci_width <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_geofacet-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brandon P.M. Edwards, Adam C. Smith, Steffi LaZerte.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

