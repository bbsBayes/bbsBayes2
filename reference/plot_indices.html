<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate plots of index trajectories by stratum — plot_indices • bbsBayes2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate plots of index trajectories by stratum — plot_indices"><meta name="description" content="Generates the indices plot for each stratum modelled."><meta property="og:description" content="Generates the indices plot for each stratum modelled."><meta property="og:image" content="https://bbsbayes.github.io/bbsBayes2/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bbsBayes2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bbsBayes2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bbsBayes/bbsBayes2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generate plots of index trajectories by stratum</h1>
      <small class="dont-index">Source: <a href="https://github.com/bbsBayes/bbsBayes2/blob/main/R/plot-indices.R" class="external-link"><code>R/plot-indices.R</code></a></small>
      <div class="d-none name"><code>plot_indices.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates the indices plot for each stratum modelled.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_indices</span><span class="op">(</span></span>
<span>  indices <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ci_width <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  min_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  title_size <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  axis_title_size <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  axis_text_size <span class="op">=</span> <span class="fl">16</span>,</span>
<span>  line_width <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  spaghetti <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_spaghetti <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  alpha_spaghetti <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  add_observed_means <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_number_routes <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-indices">indices<a class="anchor" aria-label="anchor" href="#arg-indices"></a></dt>
<dd><p>List. Indices generated by <code><a href="generate_indices.html">generate_indices()</a></code>.</p></dd>


<dt id="arg-ci-width">ci_width<a class="anchor" aria-label="anchor" href="#arg-ci-width"></a></dt>
<dd><p>Numeric. Quantile defining the width of the plotted credible
interval. Defaults to 0.95 (lower = 0.025 and upper = 0.975). Note these
quantiles need to have been precalculated in <code><a href="generate_indices.html">generate_indices()</a></code>.</p></dd>


<dt id="arg-min-year">min_year<a class="anchor" aria-label="anchor" href="#arg-min-year"></a></dt>
<dd><p>Numeric. Minimum year to plot.</p></dd>


<dt id="arg-max-year">max_year<a class="anchor" aria-label="anchor" href="#arg-max-year"></a></dt>
<dd><p>Numeric. Maximum year to plot.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Logical. Whether to include a title on the plot.</p></dd>


<dt id="arg-title-size">title_size<a class="anchor" aria-label="anchor" href="#arg-title-size"></a></dt>
<dd><p>Numeric. Font size of plot title. Defaults to 20</p></dd>


<dt id="arg-axis-title-size">axis_title_size<a class="anchor" aria-label="anchor" href="#arg-axis-title-size"></a></dt>
<dd><p>Numeric. Font size of axis titles. Defaults to 18</p></dd>


<dt id="arg-axis-text-size">axis_text_size<a class="anchor" aria-label="anchor" href="#arg-axis-text-size"></a></dt>
<dd><p>Numeric. Font size of axis text. Defaults to 16</p></dd>


<dt id="arg-line-width">line_width<a class="anchor" aria-label="anchor" href="#arg-line-width"></a></dt>
<dd><p>Numeric. Size of the trajectory line. Defaults to 1</p></dd>


<dt id="arg-spaghetti">spaghetti<a class="anchor" aria-label="anchor" href="#arg-spaghetti"></a></dt>
<dd><p>Logical. False by default. Plotting option to visualise the
uncertainty in the estimated population trajectories. Instead of plotting
the trajectory as a single line with an uncertainty bound, if TRUE, then
the plot shows a sample of the posterior distribution of the estimated
population trajectories. E.g., 100 semi-transparent lines, each representing
one posterior draw of the population trajectory.</p></dd>


<dt id="arg-n-spaghetti">n_spaghetti<a class="anchor" aria-label="anchor" href="#arg-n-spaghetti"></a></dt>
<dd><p>Integer. 100 by default. Number of posterior draws of the
population trajectory to include in the plot. Ignored if spaghetti = FALSE.</p></dd>


<dt id="arg-alpha-spaghetti">alpha_spaghetti<a class="anchor" aria-label="anchor" href="#arg-alpha-spaghetti"></a></dt>
<dd><p>Numeric between 0 and 1, 0.2 by default. Alpha value - transparency
of each individual population trajectory line in the spaghetti plot.
Ignored if spaghetti = FALSE.</p></dd>


<dt id="arg-add-observed-means">add_observed_means<a class="anchor" aria-label="anchor" href="#arg-add-observed-means"></a></dt>
<dd><p>Logical. Whether to include points indicating the
observed mean counts. Default <code>FALSE</code>. Note: scale of observed means and
annual indices may not match due to imbalanced sampling among routes. Also,
pattern of change in observed means through time should reflect estimated
population trajectories for strata-level summaries. However, the temporal
patterns may be very different between means and annual indices for composite
regions (e.g., continental, state, province, or BCR) because the indices
for composite regions account for the variation in area weights and
variation in relative abundances among strata, and the observed mean counts
do not. For strata-level assessments, these observed means can be a useful
model assessment tool. For composite regions, their interpretation is more
complicated.</p></dd>


<dt id="arg-add-number-routes">add_number_routes<a class="anchor" aria-label="anchor" href="#arg-add-number-routes"></a></dt>
<dd><p>Logical. Whether to superimpose dotplot
showing the number of BBS routes included in each year. This is useful as a
visual check on the relative data-density through time because in most
cases the number of observations increases over time.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>List of ggplot2 plots, each item being a plot of a stratum's indices.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other indices and trends functions:
<code><a href="generate_indices.html">generate_indices()</a></code>,
<code><a href="generate_trends.html">generate_trends()</a></code>,
<code><a href="plot_geofacet.html">plot_geofacet()</a></code>,
<code><a href="plot_map.html">plot_map()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Using the example model for Pacific Wrens...</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate country, continent, and stratum indices</span></span></span>
<span class="r-in"><span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_indices.html">generate_indices</a></span><span class="op">(</span>model_output <span class="op">=</span> <span class="va">pacific_wren_model</span>,</span></span>
<span class="r-in"><span>                      regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"continent"</span>, <span class="st">"stratum"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in assert_valid_draws_format(format):</span> could not find function "assert_valid_draws_format"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now, plot_indices() will generate a list of plots for all regions</span></span></span>
<span class="r-in"><span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu">plot_indices</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'i' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To view any plot, use [[i]]</span></span></span>
<span class="r-in"><span><span class="va">plots</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'plots' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">plots</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'plots' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Suppose we wanted to access the continental plot. We could do so with</span></span></span>
<span class="r-in"><span><span class="va">plots</span><span class="op">[[</span><span class="st">"continent"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'plots' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can specify to only plot a subset of years using min_year and max_year</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plots indices from 2015 onward</span></span></span>
<span class="r-in"><span><span class="va">p_2015_min</span> <span class="op">&lt;-</span> <span class="fu">plot_indices</span><span class="op">(</span><span class="va">i</span>, min_year <span class="op">=</span> <span class="fl">2015</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'i' not found</span>
<span class="r-in"><span><span class="va">p_2015_min</span><span class="op">[[</span><span class="st">"continent"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'p_2015_min' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Plot up indices up to the year 2017</span></span></span>
<span class="r-in"><span><span class="va">p_2017_max</span> <span class="op">&lt;-</span> <span class="fu">plot_indices</span><span class="op">(</span><span class="va">i</span>, max_year <span class="op">=</span> <span class="fl">2017</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'i' not found</span>
<span class="r-in"><span><span class="va">p_2017_max</span><span class="op">[[</span><span class="st">"continent"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'p_2017_max' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Plot indices between 2011 and 2016</span></span></span>
<span class="r-in"><span><span class="va">p_2011_2016</span> <span class="op">&lt;-</span> <span class="fu">plot_indices</span><span class="op">(</span><span class="va">i</span>, min_year <span class="op">=</span> <span class="fl">2011</span>, max_year <span class="op">=</span> <span class="fl">2016</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'i' not found</span>
<span class="r-in"><span><span class="va">p_2011_2016</span><span class="op">[[</span><span class="st">"continent"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'p_2011_2016' not found</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brandon P.M. Edwards, Adam C. Smith, Steffi LaZerte.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

